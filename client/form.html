<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Cryptaegis Exchange</title>
</head>
<body>
    <main>
        <div class="form">
            <h2>Create User</h2>
            <form id="userForm">
                <input id="userName" type="text" placeholder="Name" required>
                <p class="inputDef" id="userNameDef"></p>
                <input id="email" type="text" placeholder="Email" required>
                <input id="phoneNum" type="text" placeholder="Phone Number" onkeydown="phoneNumberFormatter()" required/>
                <input id="city" type="text" placeholder="City" required>
                <input id="state" type="text" placeholder="State" required>
                <button type="submit">Submit</button>
            </form>
        </div>
    </main>
    <script>
        function formatPhoneNumber(value) {
            if (!value) return value

            const phoneNumber = value.replace(/[^\d]/g, '')
            const phoneNumberLength = phoneNumber.length

            if (phoneNumberLength < 4) return phoneNumber

            if (phoneNumberLength < 7) {
                return `(${phoneNumber.slice(0, 3)}) ${phoneNumber.slice(3)}`
            }

            return `(${phoneNumber.slice(0, 3)}) ${phoneNumber.slice(3, 6)}-${phoneNumber.slice(6, 9)}`
        }

        function phoneNumberFormatter() {
            const inputField = document.getElementById('phoneNum')
            const formattedInputValue = formatPhoneNumber(inputField.value)

            inputField.value = formattedInputValue
        }
    </script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="form.js"></script>
</body>
</html>